<style scoped>
.outerwrapper {
  width: 100%;
  position: relative;
  border: 1px solid #c8c7cf;
}
.outerwrapper h2, .outerwrapper p {
  margin: 10px 10px 0 10px;
  padding: 0;
}
.outerwrapper .key {
  padding: 0px 0px 0px 9px;
  border-left: 20px solid #cf071d;
  margin: 10px;
}
.outerwrapper input {
  width: 90%;
  margin: 0 5%;
}
.outerwrapper .widget-images p {
  margin: 0px 0px 10px 10px;
}
.outerwrapper .widget-images ul {
  padding-left: 0;
}
.outerwrapper .widget-images li {
  list-style: none;
}
.outerwrapper .widget-selector {
  padding: 10px 20px;
}
.outerwrapper input[type=range] {
  -webkit-appearance: none;
  margin: 10px 0;
  width: 100%;
}
.outerwrapper input[type=range]:focus {
  outline: none;
}
.outerwrapper input[type=range]::-webkit-slider-runnable-track {
  height: 8px;
  background: #999;
  border-radius: 4px;
}
.outerwrapper input[type=range]::-webkit-slider-thumb {
  border: 4px solid #fff;
  height: 25px;
  width: 25px;
  border-radius: 50%;
  background: #333;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -7.6px;
  transition: border-color 200ms;
}
.outerwrapper input[type=range]:focus::-webkit-slider-thumb {
  border-color: skyblue;
}
.outerwrapper input[type=range]::-moz-range-track {
  height: 8px;
  background: #999;
  border-radius: 4px;
}
.outerwrapper input[type=range]::-moz-range-thumb {
  border: 4px solid #fff;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #333;
  cursor: pointer;
  transition: border-color 200ms;
}
.outerwrapper input[type=range]:focus::-moz-range-thumb {
  border-color: skyblue;
}
.outerwrapper input[type=range]::-ms-track {
  width: 100%;
  height: 8px;
  background: transparent;
  border-color: transparent;
  border-width: 20px 0;
  color: transparent;
}
.outerwrapper input[type=range]::-ms-fill-lower {
  background: #999;
  border: 0px solid #000101;
  border-radius: 50px;
}
.outerwrapper input[type=range]::-ms-fill-upper {
  background: #999;
  border: 0px solid #000101;
  border-radius: 50px;
}
.outerwrapper input[type=range]::-ms-thumb {
  border: 4px solid #fff;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #333;
  transition: border-color 200ms;
}
.outerwrapper input[type=range]:focus::-ms-thumb {
  border-color: skyblue;
}

.js-enabled .widget-images {
  display: none;
}

</style>
<div class="outerwrapper">
	<h2>Headline</h2>
	<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor quidem aliquam deserunt provident, vero excepturi iste voluptatibus at soluta fugiat.</p>
	<p class="key">Land used intensively by humans.</p>
	<div class="widget-canvas"></div>
	<div class="widget-selector"></div>
	<div class="widget-images">
	<ul>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24177.1425403041!/slideshowimage/anthropocene-slideshow-1.jpg" alt="8,000 years before present"/>
			<p>8,000 years before present</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24178.1425403041!/slideshowimage/anthropocene-slideshow-2.jpg" alt="5,000 years before present" />
			<p>5,000 years BP</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24179.1425403041!/slideshowimage/anthropocene-slideshow-3.jpg" alt="3,000 years BP" />
			<p>3,000 years BP</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24180.1425403041!/slideshowimage/anthropocene-slideshow-4.jpg" alt="2,000 years BP" />
			<p>2,000 years BP</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24181.1425403041!/slideshowimage/anthropocene-slideshow-5.jpg" alt="1,000 years BP" />
			<p>1,000 years BP</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24182.1425403041!/slideshowimage/anthropocene-slideshow-6.jpg" alt="1,500 AD" />
			<p>1,500 AD</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24183.1425403042!/slideshowimage/anthropocene-slideshow-7.jpg" alt="1,750 AD" />
			<p>1,750 AD</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24184.1425403042!/slideshowimage/anthropocene-slideshow-8.jpg" alt="1,900 AD" />
			<p>1,900 AD</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24185.1425403042!/slideshowimage/anthropocene-slideshow-9.jpg" alt="1,950 AD" />
			<p>1,950 AD</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24222.1425470763!/slideshowimage/anthropocene-slideshow-10.jpg" alt="2,000 AD" />
			<p>2,000 AD</p>
		</li>
	</ul>
		
	</div>
</div>

<!--[if gt IE 8]><!-->
<script type="text/javascript">
(function() {
		var init = function($)
		{
			$.getScript("http://www.nature.com/polopoly_static/js/d3.v3.min.js", function() {
				var allImages = [];
				var outerWrapper = d3.select(".outerwrapper");
				var canvas = outerWrapper.select(".widget-canvas")
											.append("canvas")
											.attr("width", 630)
											.attr("height", 298);
				var ctx = canvas.node().getContext("2d");
				
				var testInput = document.createElement("input");
				testInput.setAttribute("type", "range");

				var widgetImages = outerWrapper.select(".widget-images");
								
				var images = widgetImages.selectAll("img")
								.each(function(d,i) {
									var thisImage = new Image();
									thisImage.src = this.src;
									thisImage.alt = this.alt;

									allImages.push(thisImage);
								});

				if (widgetImages.style("display") !== "none") {
					widgetImages.style("display","none");
				}

				function drawFrame (num) {
					console.log(allImages[num].alt);
					ctx.drawImage(allImages[num], 0, 0);
				}

				function makeRange () {
					var range = outerWrapper.select(".widget-selector")
												.append("input")
												.attr("type","range")
												.attr("min", 0)
												.attr("max", (images[0].length - 1))
												.attr("step", 1)
												.attr("value", 0)
												.on("input", function() {
													drawFrame(this.value);
												});
				}

				function makeSelect () {
					var select = outerWrapper.select(".widget-selector")
									.append("select");

					select.selectAll("option")
						.data(images[0])
						.enter()
						.append("option")
						.attr("value", function(d,i) {
							return i;
						})
						.text(function(d,i) {
							return d.alt;
						});

					select.on("change", function() {
						drawFrame(this.value);
					});
				}

				allImages[0].onload = function() {
					drawFrame(0);
				};

				if (testInput.type !== "text") {
					makeRange();
				} else {
					makeSelect();
				}

			}); /* End of d3js getscript call

		/* End of active code */
		};


	setTimeout(function()
	{
	if (typeof jQuery !== 'undefined')
	{
		init(jQuery);
	} else
	{
		setTimeout(arguments.callee, 60);
	}
	}, 60);

})();
</script>
<!--<![endif]-->