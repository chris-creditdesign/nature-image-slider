<!doctype html>
<html lang="en" class="js-enabled">
<!-- <html lang="en" class="js-disabled"> -->
<head>
	<meta charset="UTF-8">
	<title>Polopoly</title>
	<script src="http://nature.com/view/scripts/jquery/jquery-1.7.2.min.js" type="text/javascript"></script>
	<!-- <script src="https://poly-admin1.nature.com/polopoly_static/js/jquery-1.6.4.js" type="text/javascript"></script> -->

	<link rel="stylesheet" type="text/css" href="polopoly/reset.css" />
	<link rel="stylesheet" type="text/css" href="polopoly/html5.css" />
	<link rel="stylesheet" type="text/css" href="polopoly/layout.css" />	
	<link rel="stylesheet" type="text/css" href="polopoly/header.css" />	
	<link rel="stylesheet" type="text/css" href="polopoly/footer.css" />	
	<link rel="stylesheet" type="text/css" href="polopoly/main.css" />	
	<link rel="stylesheet" type="text/css" href="polopoly/news-main.css" />	
	<link rel="stylesheet" type="text/css" href="polopoly/comments.css" />	
	<link rel="stylesheet" type="text/css" href="polopoly/mobile.css" />	



</head>


<!--[if lt IE 6]><body class="lt-ie6"><![endif]-->
<!--[if IE 6]><body class="ie6"><![endif]-->
<!--[if IE 7]><body class="ie7"><![endif]-->
<!--[if IE 8]><body class="ie8"><![endif]-->
<!--[if gt IE 8]><body class="gt-ie8"><![endif]-->
<!--[if !IE]>--><body><!--<![endif]-->

<div id="constrain">

<div id="main">
	<div id="constrain-content" class="cleared">
		<div id="content" class="col">
			<article>
				<div id="article">
					<section>
						<div class="section">
							<div class="html-widget img-rigth">

<!-- ========= PASTED POLOPOLY HEADER ABOVE ========= -->







<style scoped>
.outerwrapper {
  width: 100%;
  position: relative;
  border: 1px solid #c8c7cf;
}
.outerwrapper h2, .outerwrapper p {
  margin: 10px 10px 0 10px;
  padding: 0;
}
.outerwrapper .key {
  padding: 0px 0px 0px 9px;
  border-left: 20px solid #cf071d;
  margin: 10px;
}
.outerwrapper input {
  width: 90%;
  margin: 0 5%;
}
.outerwrapper .widget-images p {
  margin: 0px 0px 10px 10px;
  font-variant: small-caps;
}
.outerwrapper .widget-images ul {
  padding-left: 0;
}
.outerwrapper .widget-images li {
  list-style: none;
}
.outerwrapper .widget-selector {
  padding: 10px 20px;
}
.outerwrapper .widget-canvas {
  position: relative;
}
.outerwrapper .widget-canvas p {
  position: absolute;
  font-weight: bold;
  font-variant: small-caps;
}
.outerwrapper input[type=range] {
  -webkit-appearance: none;
  margin: 10px 0;
  width: 100%;
}
.outerwrapper input[type=range]:focus {
  outline: none;
}
.outerwrapper input[type=range]::-webkit-slider-runnable-track {
  height: 8px;
  background: #999;
  border-radius: 4px;
}
.outerwrapper input[type=range]::-webkit-slider-thumb {
  border: 4px solid #fff;
  height: 25px;
  width: 25px;
  border-radius: 50%;
  background: #333;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -7.6px;
  transition: border-color 200ms;
}
.outerwrapper input[type=range]:focus::-webkit-slider-thumb {
  border-color: skyblue;
}
.outerwrapper input[type=range]::-moz-range-track {
  height: 8px;
  background: #999;
  border-radius: 4px;
}
.outerwrapper input[type=range]::-moz-range-thumb {
  border: 4px solid #fff;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #333;
  cursor: pointer;
  transition: border-color 200ms;
}
.outerwrapper input[type=range]:focus::-moz-range-thumb {
  border-color: skyblue;
}
.outerwrapper input[type=range]::-ms-track {
  width: 100%;
  height: 8px;
  background: transparent;
  border-color: transparent;
  border-width: 20px 0;
  color: transparent;
}
.outerwrapper input[type=range]::-ms-fill-lower {
  background: #999;
  border: 0px solid #000101;
  border-radius: 50px;
}
.outerwrapper input[type=range]::-ms-fill-upper {
  background: #999;
  border: 0px solid #000101;
  border-radius: 50px;
}
.outerwrapper input[type=range]::-ms-thumb {
  border: 4px solid #fff;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #333;
  transition: border-color 200ms;
}
.outerwrapper input[type=range]:focus::-ms-thumb {
  border-color: skyblue;
}

.js-enabled .widget-images {
  display: none;
}

</style>
<div class="outerwrapper">
	<h2>Headline</h2>
	<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor quidem aliquam deserunt provident, vero excepturi iste voluptatibus at soluta fugiat.</p>
	<p class="key">Land used intensively by humans.</p>
	<div class="widget-canvas cf">
		<p id="date"></p>
	</div>
	<div class="widget-selector"></div>
	<div class="widget-images">
	<ul>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24262.1425568910!/slideshowimage/anthropocene-slideshow-1.jpg" alt="8,000 years before present (bp)"/>
			<p>8,000 years before present (bp)</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24264.1425568910!/slideshowimage/anthropocene-slideshow-2.jpg" alt="5,000 years bp" />
			<p>5,000 years bp</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24265.1425568910!/slideshowimage/anthropocene-slideshow-3.jpg" alt="3,000 years bp" />
			<p>3,000 years bp</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24266.1425568910!/slideshowimage/anthropocene-slideshow-4.jpg" alt="2,000 years bp" />
			<p>2,000 years bp</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24267.1425568910!/slideshowimage/anthropocene-slideshow-5.jpg" alt="1,000 years bp" />
			<p>1,000 years bp</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24268.1425568911!/slideshowimage/anthropocene-slideshow-6.jpg" alt="1500 ad" />
			<p>1500 ad</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24269.1425568911!/slideshowimage/anthropocene-slideshow-7.jpg" alt="1750 ad" />
			<p>1750 ad</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24270.1425568911!/slideshowimage/anthropocene-slideshow-8.jpg" alt="1900 ad" />
			<p>1900 ad</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24271.1425568911!/slideshowimage/anthropocene-slideshow-9.jpg" alt="1950 ad" />
			<p>1950 ad</p>
		</li>
		<li>
			<img src="https://poly-admin1.nature.com/polopoly/polopoly_fs/7.24263.1425568910!/slideshowimage/anthropocene-slideshow-10.jpg" alt="2000 ad" />
			<p>2000 ad</p>
		</li>
	</ul>
		
	</div>
</div>

<!--[if gt IE 8]><!-->
<script type="text/javascript">

(function() {
	var d3url = "http://www.nature.com/polopoly_static/js/d3.v3.min.js";

	/*	supports_canvas() - Check to see if the browser supports canvas
		return true if canvas supported */
	function supports_canvas() {
  		return !!document.createElement('canvas').getContext;
	}

	var init = function($) {
		$.when( $.getScript(d3url) ).then( function() {
			var allImages = [];

			var width = $("#content").width();
			var height = Math.floor(width * 0.48);

			var range;
			var select;

			var outerWrapper = d3.select(".outerwrapper");
			var canvas = outerWrapper.select(".widget-canvas")
										.append("canvas")
										.attr("width", width)
										.attr("height", height);
			var ctx = canvas.node().getContext("2d");

			var dateDisplay = outerWrapper.select("#date");
			
			var testInput = document.createElement("input");
			testInput.setAttribute("type", "range");

			var widgetImages = outerWrapper.select(".widget-images");
			
			/*	Select each of the images and push a new img object into
				the allImages array with the relevant src and alt properties */
			var images = widgetImages.selectAll("img")
							.each(function(d,i) {
								var thisImage = new Image();
								thisImage.src = this.src;
								thisImage.alt = this.alt;

								allImages.push(thisImage);
							});

			/*	drawFrame() num = value of input or select
				redraw the canvas and update the #date text */
			function drawFrame (num) {
				dateDisplay.text(allImages[num].alt);
				ctx.drawImage(allImages[num], 0, 0, width, height);
			}

			/*	makeRange()
				Append an input[type="range"] and call drawFrame on change */
			function makeRange () {
				range = outerWrapper.select(".widget-selector")
											.append("input")
											.attr("type","range")
											.attr("min", 0)
											.attr("max", (images[0].length - 1))
											.attr("step", 1)
											.attr("value", 0)
											.on("input", function() {
												drawFrame(this.value);
											});
			}

			/*	makeSelect()
				Append a select element and call drawFrame on change */
			function makeSelect () {
				select = outerWrapper.select(".widget-selector")
								.append("select");

				select.selectAll("option")
					.data(images[0])
					.enter()
					.append("option")
					.attr("value", function(d,i) {
						return i;
					})
					.text(function(d,i) {
						return d.alt;
					});

				select.on("change", function() {
					drawFrame(this.value);
				});
			}

			/*	resize()
				Redraw and resize the canvas */
			function resize () {
				if($(window).width() != width){
					var currentFrame;
					width = $("#content").width();
					height = Math.floor(width * 0.48);

					canvas.attr("width", width)
							.attr("height", height);

					if (range) {
						currentFrame = range.node().value;
					} else if (select) {
						currentFrame = select.node().value;
					} else {
						currentFrame = 0;
					}

					drawFrame(currentFrame);
				}
			}

			/* Fill the canvas with frame 0 as soon as it is ready */
			allImages[0].onload = function() {
				drawFrame(0);
			};

			/*	call makeRange() if input[type="range"] is suported
				call makeSelect() otherwise */
			if (testInput.type !== "text") {
				makeRange();
			} else {
				makeSelect();
			}

			window.onresize = resize;
		}, function () {
			/*	D3 has failed to load so show the images */
			$(".widget-images").css("display","block");
		});
	};

	/*	Before calling init()
		- check jQuery is loaded
		- check the browser supports canvas
		- check the images are hidden */
	setTimeout(function() {
		if (typeof jQuery !== 'undefined') {
			if ( supports_canvas() ) {
				if (jQuery(".widget-images").css("display") !== "none") {
					jQuery(".widget-images").css("display","none");
				}
				init(jQuery);
			} else {
				jQuery(".widget-images").css("display","block");
			}
		} else {
			setTimeout(arguments.callee, 60);
		}
	}, 60);

})();
</script>
<!--<![endif]-->
<!-- ========= PASTED POLOPOLY FOOTER BELOW ========= -->

</div>							
						</div>
					</section>
				</div>
			</article>
		</div>
	</div>
</div>
</div>
</body>
</html>